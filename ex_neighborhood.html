    <!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using CoSMoMVPA neighborhoods for regions of interest &#8212; CoSMo Multivariate Pattern Analysis toolbox 1.0rc1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=83e35b93" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=279e0f84" />
    <script src="_static/documentation_options.js?v=b2dc1058"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Use the searchlight with a neighborhood and a measure" href="ex_searchlight_measure.html" />
    <link rel="prev" title="Using CoSMoMVPA measures" href="ex_measures.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ex_searchlight_measure.html" title="Use the searchlight with a neighborhood and a measure"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ex_measures.html" title="Using CoSMoMVPA measures"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="nmsm2019.html" >NMSM 2019, Noesselt’s lab 3rd Modelling Symposium, University of Magdeburg</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="nmsm2019_ex_toc.html" accesskey="U">Exercises</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using CoSMoMVPA <em>neighborhoods</em> for regions of interest</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="using-cosmomvpa-neighborhoods-for-regions-of-interest">
<span id="ex-roi-neighborhood"></span><h1>Using CoSMoMVPA <em>neighborhoods</em> for regions of interest<a class="headerlink" href="#using-cosmomvpa-neighborhoods-for-regions-of-interest" title="Link to this heading">¶</a></h1>
<section id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Link to this heading">¶</a></h2>
<p>A <a class="reference internal" href="ex_measures.html#ex-measures"><span class="std std-ref">previous exercise</span></a> showed how to use a <a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-measure"><span class="std std-ref">measure</span></a> to both simplify and generalize across different common MVPA techniques (split-half correlations (<a class="reference internal" href="ex_splithalf_correlations.html#ex-splithalf-correlations"><span class="std std-ref">split-half correlations</span></a> and <a class="reference internal" href="ex_nfold_crossvalidation.html#ex-nfold-crossvalidation"><span class="std std-ref">classification with cross-validation</span></a>).</p>
<p>It is often useful to apply the <em>same measure</em> to <em>different subsets of the features</em>, for example:</p>
<blockquote>
<div><ul class="simple">
<li><p>Analysis of multiple ROIs.</p></li>
<li><p>Searchlight analysis, which is essentially repeated ROI analysis where each feature of the dataset is associated with a set of features around it.</p></li>
</ul>
</div></blockquote>
<p><a class="reference external" href="http://cosmomvpa.org">CoSMoMVPA</a> uses a <a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-neighborhood"><span class="std std-ref">neighborhood</span></a> to define <em>which</em> subsets of features are used.</p>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">¶</a></h2>
<p>Before starting this exercise, please read the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-neighborhood"><span class="std std-ref">Neighborhood</span></a></p></li>
</ul>
</div></blockquote>
<p>As a preparation for a whole-brain spherical searchlight, this exercise will make a very simple neighborhood that contains indices for only two ROIs (whole-brain searchlights have thousands of (partially overlapping) regions). In each ROI classification analysis with cross-validation and split-half correlation analysisis performed.</p>
<p>Part 1 requires the <em>manual</em> application of a measure to features indexed by the neighborhood; Parts 2, 3 and 4 show how a <a class="reference internal" href="matlab/cosmo_searchlight.html#cosmo-searchlight"><span class="std std-ref">cosmo searchlight</span></a> can be used to achieve the same.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>this exercise requires familiarity with the <a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-measure"><span class="std std-ref">measure</span></a> concept (<a class="reference internal" href="ex_measures.html#ex-measures"><span class="std std-ref">exercise</span></a>).</p></li>
<li><p>understanding the concept of a neighborhood is important for <a class="reference internal" href="ex_searchlight_measure.html#ex-searchlight-measure"><span class="std std-ref">another exercise</span></a> about whole-brain <a class="reference internal" href="cosmomvpa_concepts.html#searchlight"><span class="std std-ref">searchlights</span></a>.</p></li>
</ul>
</div></blockquote>
<section id="part-1">
<h3>Part 1<a class="headerlink" href="#part-1" title="Link to this heading">¶</a></h3>
<p>Load the dataset with subject <code class="docutils literal notranslate"><span class="pre">s01</span></code>’s t-statistic for every run (<code class="docutils literal notranslate"><span class="pre">glm_T_stats_perrun.nii</span></code>), but do not apply a mask.
Then load each of the two masks (<code class="docutils literal notranslate"><span class="pre">vt</span></code>, <code class="docutils literal notranslate"><span class="pre">ev</span></code>), and define a neighborhood where the <code class="docutils literal notranslate"><span class="pre">.neighbors</span></code> is a cell with two elements, each containing the features indices of the respective masks. Use <a class="reference internal" href="matlab/cosmo_slice.html#cosmo-slice"><span class="std std-ref">cosmo slice</span></a> to slice the dataset along features (once for each mask), then apply the <a class="reference internal" href="matlab/cosmo_crossvalidation_measure.html#cosmo-crossvalidation-measure"><span class="std std-ref">cosmo crossvalidation measure</span></a> measure with the <a class="reference internal" href="matlab/cosmo_classify_lda.html#cosmo-classify-lda"><span class="std std-ref">cosmo classify lda</span></a> classifier and partitions from <a class="reference internal" href="matlab/cosmo_nfold_partitioner.html#cosmo-nfold-partitioner"><span class="std std-ref">cosmo nfold partitioner</span></a> to compute classification accuracies for each of the masks.</p>
</section>
<section id="part-2">
<h3>Part 2<a class="headerlink" href="#part-2" title="Link to this heading">¶</a></h3>
<p>Using the neighborhood structure defined in Part 1, use the <a class="reference internal" href="matlab/cosmo_searchlight.html#cosmo-searchlight"><span class="std std-ref">cosmo searchlight</span></a> function to perform the same analysis as in Part 1.</p>
</section>
<section id="part-3">
<h3>Part 3<a class="headerlink" href="#part-3" title="Link to this heading">¶</a></h3>
<p>Using the same neighborhood structure, compute the split-half correlation measure (difference between Fisher-transformed on-diagonal versus off-diagonal elements) using <a class="reference internal" href="matlab/cosmo_correlation_measure.html#cosmo-correlation-measure"><span class="std std-ref">cosmo correlation measure</span></a>.</p>
</section>
<section id="part-4-advanced">
<h3>Part 4 (advanced)<a class="headerlink" href="#part-4-advanced" title="Link to this heading">¶</a></h3>
<p>Use the same neighborhood and measure as in Part 2, but now let the measure return the predictions of each sample in each ROI. Run the searchlight, compute the confusion matrices, and visualize these.</p>
<p>Template: <a class="reference internal" href="matlab/run_roi_neighborhood_skl.html#run-roi-neighborhood-skl"><span class="std std-ref">run roi neighborhood skl</span></a></p>
<p>Check your answers here: <a class="reference internal" href="matlab/run_roi_neighborhood.html#run-roi-neighborhood"><span class="std std-ref">run roi neighborhood</span></a> / <a class="extlink-pb reference external" href="_static/publish/run_roi_neighborhood.html">Matlab output: run_roi_neighborhood</a></p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cosmomvpa_logo.png" alt="Logo of CoSMo Multivariate Pattern Analysis toolbox"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Using CoSMoMVPA <em>neighborhoods</em> for regions of interest</a><ul>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a><ul>
<li><a class="reference internal" href="#part-1">Part 1</a></li>
<li><a class="reference internal" href="#part-2">Part 2</a></li>
<li><a class="reference internal" href="#part-3">Part 3</a></li>
<li><a class="reference internal" href="#part-4-advanced">Part 4 (advanced)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="ex_measures.html"
                          title="previous chapter">Using CoSMoMVPA <em>measures</em></a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="ex_searchlight_measure.html"
                          title="next chapter">Use the searchlight with a neighborhood and a measure</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ex_neighborhood.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ex_searchlight_measure.html" title="Use the searchlight with a neighborhood and a measure"
             >next</a> |</li>
        <li class="right" >
          <a href="ex_measures.html" title="Using CoSMoMVPA measures"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="nmsm2019.html" >NMSM 2019, Noesselt’s lab 3rd Modelling Symposium, University of Magdeburg</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="nmsm2019_ex_toc.html" >Exercises</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using CoSMoMVPA <em>neighborhoods</em> for regions of interest</a></li> 
      </ul>
    </div>
      <div class="footer">
       <span class="creativecommons">
          <a href="http://opensource.org/licenses/MIT" >
          <img src="_static/mit-license_logo.png"
               border="0" alt="Creative Commons License"/>
         </a> 
         
        <a href="copyright.html">Copyright 2013-2021 Nikolaas N. Oosterhof, Andrew C. Connolly, CoSMoMVPA contributors</a>.
        CoSMoMVPA is licensed under an <a href="http://opensource.org/licenses/MIT">Expat (MIT) License</a>.
       </span>
      </div>
  </body>
</html>