    <!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Classification analysis &#8212; CoSMo Multivariate Pattern Analysis toolbox 1.0rc1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=83e35b93" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=279e0f84" />
    <script src="_static/documentation_options.js?v=b2dc1058"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Classification analysis with cross-validation" href="ex_nfold_crossvalidation.html" />
    <link rel="prev" title="Split-half correlation-based MVPA with group analysis" href="ex_splithalf_correlations.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ex_nfold_crossvalidation.html" title="Classification analysis with cross-validation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ex_splithalf_correlations.html" title="Split-half correlation-based MVPA with group analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="nmsm2019.html" >NMSM 2019, Noesselt’s lab 3rd Modelling Symposium, University of Magdeburg</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="nmsm2019_ex_toc.html" accesskey="U">Exercises</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Classification analysis</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="classification-analysis">
<span id="ex-classify-lda"></span><h1>Classification analysis<a class="headerlink" href="#classification-analysis" title="Link to this heading">¶</a></h1>
<section id="reading-material">
<h2>Reading material<a class="headerlink" href="#reading-material" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><span id="id1">[<a class="reference internal" href="references.html#id3" title="Cox, D. D. and Savoy, R. L. Functional magnetic resonance imaging (fMRI) &quot;brain reading&quot;: detecting and classifying distributed patterns of fMRI activity in human visual cortex. NeuroImage, 19(2 Pt 1):261–270, 2003.">CS03</a>]</span>: First use of a classifier on fMRI data.</p></li>
<li><p><span id="id2">[<a class="reference internal" href="references.html#id18" title="Mur, M., Bandettini, P. A., and Kriegeskorte, N. Revealing representational content with pattern-information fMRI–an introductory guide. Social cognitive and affective neuroscience, 4(1):101–109, 2009.">MBK09</a>]</span>: Classification introduction and overview.</p></li>
</ul>
</section>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Link to this heading">¶</a></h2>
<p>This exercise shows a more advanced MVPA topic, the use of a classifier (first reported in <span id="id3">[<a class="reference internal" href="references.html#id3" title="Cox, D. D. and Savoy, R. L. Functional magnetic resonance imaging (fMRI) &quot;brain reading&quot;: detecting and classifying distributed patterns of fMRI activity in human visual cortex. NeuroImage, 19(2 Pt 1):261–270, 2003.">CS03</a>]</span>). Using a classifier involves two steps:</p>
<ul>
<li><p>training: a set of <code class="docutils literal notranslate"><span class="pre">samples</span></code> (the patterns) with associated <code class="docutils literal notranslate"><span class="pre">.sa.targets</span></code> (conditions) together are called the <em>training set</em>. The training set is used so that the classifiers <em>learns</em> which patterns are associated with each condition.</p>
<blockquote>
<div><ul class="simple">
<li><p>(side note: learning associations between patterns and conditions can be done in many ways. Popular approaches are Naive Bayes, Linear Discriminant Analysis, and Support Vector Machines (Nearest Neighbor classification is another approach, but less useful for fMRI data). They make different assumptions about the distribution of the patterns and what is the best way to separate patterns from different conditions). When in doubt which classifier to use, one recommendation is to use either LDA or SVM. The former seems less popular in the literature, but is typically faster and has fewer free parameters (thus potentially reducing a researcher’s degrees of freedom).</p></li>
</ul>
</div></blockquote>
</li>
<li><p>testing: predict the conditions (<code class="docutils literal notranslate"><span class="pre">.sa.targets</span></code>) for another set of samples (the <em>test set</em>), to see how well the classifier can generalize to a new set of data.</p></li>
</ul>
<p>Classification performance can be assessed by considering how many predictions for the set set were correct.</p>
<blockquote>
<div><ul>
<li><p>No peeking is allowed.</p>
<blockquote>
<div><ul class="simple">
<li><p>During the testing step, the classifier is not allowed to <em>peek</em> at the conditions. Otherwise it could just use those conditions and classification would always be perfect.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>No double dipping.</p>
<blockquote>
<div><ul class="simple">
<li><p>The training and test set must be independent. In CoSMoMVPA, independence can be indicated by the <code class="docutils literal notranslate"><span class="pre">.sa.chunks</span></code> attribute. In fMRI data, usually one takes one chunk value for each data acquisition run. If the data were not independent, then the classifier could overtrain on the training data but unable to generalize to new, independent data.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Multiple samples in each class are required (almost always).</p>
<blockquote>
<div><p>Unlike the <a class="reference internal" href="matlab/cosmo_correlation_measure.html#cosmo-correlation-measure"><span class="std std-ref">cosmo correlation measure</span></a>, a classifier usually requires that the training set has multiple samples of each class. It can use this information to assess, for example, variability of responses in each feature. This makes a classifier potentially more sensitive than a standard split-half analysis (<a class="reference internal" href="ex_splithalf_correlations.html#ex-splithalf-correlations"><span class="std std-ref">Split-half correlation-based MVPA with group analysis</span></a>).</p>
</div></blockquote>
</li>
<li><p>How to assess classification performance?</p>
<blockquote>
<div><blockquote>
<div><ul>
<li><p>A very stupid classifier, one that would not even look at the data, could, for example</p>
<blockquote>
<div><ul class="simple">
<li><p>either predict all samples in the test set to belong to the same classes (e.g. the first one), or</p></li>
<li><p>predict a random class for each sample in the test set.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>In this case, if there are <code class="docutils literal notranslate"><span class="pre">C</span></code> classes (unique targets), which each class occurring equally often, then each sample in the test set has a chance of being predicted correctly of <code class="docutils literal notranslate"><span class="pre">1/C</span></code> (the chance level). For example, with four classes, each sample would be predicted correctly with a chance of 1/4, or 25%.</p></li>
<li><p>If a set of patterns an a region of interest actually contains information about the conditions (i.e, is an informative region), <em>and</em> the classifier is able to use this information, then classification performance would be above chance level.</p></li>
<li><p>If a group of participants all show classification accuracy above chance consistently, one can claim that the region of interest contains information about the the conditions. A simple one-sample t-test against chance level can be used to obtain a statistic and associated p-value.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>A single classification step can be visualized as follows (more advanced cross-validation is part of <a class="reference internal" href="ex_nfold_crossvalidation.html#ex-nfold-crossvalidation"><span class="std std-ref">another exercise</span></a>):</p>
<figure class="align-default" id="id4">
<img alt="_images/single_classification.png" src="_images/single_classification.png" />
<figcaption>
<p><span class="caption-text"><em>Illustration of (single-fold) classification</em>. A dataset (left) is split in a train dataset (top dataset) and a test set (bottom dataset), which must have no chunks in common. For training, a classifier (indicated by <em>f</em>) takes <code class="docutils literal notranslate"><span class="pre">.samples</span></code> and <code class="docutils literal notranslate"><span class="pre">.sa.targets</span></code> from the train dataset (horizontal arrow into <em>f</em>) and predicts, for the <code class="docutils literal notranslate"><span class="pre">.samples</span></code> in the test set (vertical arrow into <em>f</em>), the targets of the test set (U-turn arrow). Classification accuracy can be assessed by computing how many samples in the test set were predicted correctly.</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="single-subject-single-fold-split-half-classification">
<h2>Single subject, single fold split-half classification<a class="headerlink" href="#single-subject-single-fold-split-half-classification" title="Link to this heading">¶</a></h2>
<p>Before starting this exercise, please make sure you have read about:</p>
<ul class="simple">
<li><p><a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-classifier"><span class="std std-ref">Classifier</span></a></p></li>
</ul>
<p>For this exercise, load a dataset using subject <code class="docutils literal notranslate"><span class="pre">s01</span></code>’s T-statistics for every run
(‘glm_T_stats_perrun.nii’) and the VT mask.</p>
<p>Slice (using <a class="reference internal" href="matlab/cosmo_slice.html#cosmo-slice"><span class="std std-ref">cosmo slice</span></a>) the dataset twice to get odd and even runs.</p>
<p>Part 1:</p>
<blockquote>
<div><ul class="simple">
<li><p>Slice the odd and even runs again so that there are only two categories: warblers and mallards.</p></li>
<li><p>Train and test a LDA (linear discriminant analyses; <a class="reference internal" href="matlab/cosmo_classify_lda.html#cosmo-classify-lda"><span class="std std-ref">cosmo classify lda</span></a>) classifier,  training on the even-runs data and testing on the odds.</p></li>
<li><p>Compute classification accuracy</p></li>
<li><p>Repeat the previous two steps using  <a class="reference internal" href="matlab/cosmo_classify_naive_bayes.html#cosmo-classify-naive-bayes"><span class="std std-ref">cosmo classify naive bayes</span></a></p></li>
</ul>
<p>Advanced exercises:</p>
<ul class="simple">
<li><p>What is the accuracy for monkey versus ladybug? Monkey versus lemur?</p></li>
<li><p>What if you use the EV mask?</p></li>
</ul>
</div></blockquote>
<p>Part 2:</p>
<blockquote>
<div><ul class="simple">
<li><p>Use the data from all six categories to train on even runs and test on odd runs, and compute the classification accuracy.</p></li>
<li><p>As the previous step, but now test on odd runs and test on even runs.</p></li>
</ul>
</div></blockquote>
<p>Part 3:</p>
<blockquote>
<div><ul class="simple">
<li><p>Using the predictions and the true labels (targets), show a confusion matrix that counts how often a sample with <code class="docutils literal notranslate"><span class="pre">targets==i</span></code> was predicted to have label <code class="docutils literal notranslate"><span class="pre">j</span></code> (for <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">j</span></code> both in the range <code class="docutils literal notranslate"><span class="pre">1:6</span></code>). How can you interpret this matrix?</p></li>
</ul>
</div></blockquote>
<p>Template: <a class="reference internal" href="matlab/run_classify_lda_skl.html#run-classify-lda-skl"><span class="std std-ref">run classify lda skl</span></a></p>
<p>Check your answers here: <a class="reference internal" href="matlab/run_classify_lda.html#run-classify-lda"><span class="std std-ref">run classify lda</span></a> / <a class="extlink-pb reference external" href="_static/publish/run_classify_lda.html">Matlab output: run_classify_lda</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cosmomvpa_logo.png" alt="Logo of CoSMo Multivariate Pattern Analysis toolbox"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Classification analysis</a><ul>
<li><a class="reference internal" href="#reading-material">Reading material</a></li>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#single-subject-single-fold-split-half-classification">Single subject, single fold split-half classification</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="ex_splithalf_correlations.html"
                          title="previous chapter">Split-half correlation-based MVPA with group analysis</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="ex_nfold_crossvalidation.html"
                          title="next chapter">Classification analysis with cross-validation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ex_classify_lda.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ex_nfold_crossvalidation.html" title="Classification analysis with cross-validation"
             >next</a> |</li>
        <li class="right" >
          <a href="ex_splithalf_correlations.html" title="Split-half correlation-based MVPA with group analysis"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="nmsm2019.html" >NMSM 2019, Noesselt’s lab 3rd Modelling Symposium, University of Magdeburg</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="nmsm2019_ex_toc.html" >Exercises</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Classification analysis</a></li> 
      </ul>
    </div>
      <div class="footer">
       <span class="creativecommons">
          <a href="http://opensource.org/licenses/MIT" >
          <img src="_static/mit-license_logo.png"
               border="0" alt="Creative Commons License"/>
         </a> 
         
        <a href="copyright.html">Copyright 2013-2021 Nikolaas N. Oosterhof, Andrew C. Connolly, CoSMoMVPA contributors</a>.
        CoSMoMVPA is licensed under an <a href="http://opensource.org/licenses/MIT">Expat (MIT) License</a>.
       </span>
      </div>
  </body>
</html>